---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="AIrium - Authentication Demo">
  <div class="container mx-auto p-8 space-y-8">
    <div class="text-center space-y-4">
      <h1 class="text-4xl font-bold tracking-tight">Authentication Demo</h1>
      <p class="text-xl text-muted-foreground">
        Test the authentication components
      </p>
    </div>

    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
      <h2 class="text-lg font-semibold text-blue-900 mb-3">Authentication Components Implemented</h2>
      <p class="text-blue-800 mb-4">
        The following authentication components have been successfully implemented:
      </p>
      <ul class="list-disc list-inside space-y-2 text-blue-800 text-sm">
        <li><strong>LoginForm</strong> - Responsive login form with validation</li>
        <li><strong>AuthProvider</strong> - Context provider for authentication state</li>
        <li><strong>UserProfile</strong> - User profile display with role information</li>
        <li><strong>ProtectedRoute</strong> - Route protection based on authentication and roles</li>
        <li><strong>AuthenticatedHeader</strong> - Header component with user menu and logout</li>
        <li><strong>RoleBasedNavigation</strong> - Navigation that adapts to user roles</li>
        <li><strong>AuthWrapper</strong> - Wrapper component for easy authentication integration</li>
      </ul>
    </div>

    <div class="grid gap-8 md:grid-cols-2">
      <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Features Implemented</h2>
        <div class="space-y-3">
          <div class="p-4 border rounded-lg">
            <h3 class="font-medium">✅ Login/Logout Components</h3>
            <p class="text-sm text-muted-foreground">Using mock authentication with localStorage</p>
          </div>
          <div class="p-4 border rounded-lg">
            <h3 class="font-medium">✅ User Profile Management</h3>
            <p class="text-sm text-muted-foreground">Display user info, role, and groups</p>
          </div>
          <div class="p-4 border rounded-lg">
            <h3 class="font-medium">✅ Role-Based Access Control</h3>
            <p class="text-sm text-muted-foreground">Admin vs General user permissions</p>
          </div>
          <div class="p-4 border rounded-lg">
            <h3 class="font-medium">✅ Responsive Design</h3>
            <p class="text-sm text-muted-foreground">Works on desktop, tablet, and mobile</p>
          </div>
        </div>
      </div>

      <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Testing Instructions</h2>
        <div class="bg-muted p-4 rounded-lg">
          <p class="text-sm mb-3">To test the authentication system in development:</p>
          <ol class="list-decimal list-inside space-y-2 text-sm">
            <li>Start the development server with <code class="bg-background px-1 rounded">npm run dev</code></li>
            <li>Navigate to any page that uses AuthWrapper</li>
            <li>Enter any email address in the login form</li>
            <li>Use "admin@example.com" to get admin role</li>
            <li>Any other email will get general user role</li>
            <li>Password can be anything (this is a demo)</li>
            <li>After login, you'll see role-appropriate navigation</li>
            <li>Try navigating to /admin to test role-based access</li>
          </ol>
        </div>
      </div>
    </div>

    <div class="space-y-4">
      <h2 class="text-2xl font-semibold">Component Tests</h2>
      <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
        <p class="text-yellow-800 text-sm">
          <strong>Note:</strong> Unit tests have been created for all authentication components. 
          There are currently some test environment configuration issues that need to be resolved 
          for the tests to run properly in the CI/CD pipeline.
        </p>
      </div>
    </div>
  </div>
</BaseLayout>

<style>
  @import '../styles/globals.css';
</style>